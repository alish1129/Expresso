<app-navbar></app-navbar>

<div class="register-page">
  <!-- Material form register -->
  <mdb-card class="register-box">

    <mdb-card-header class="info-color white-text text-center py-4">
      <h5>
        <strong>Sign up</strong>
      </h5>
    </mdb-card-header>

    <!--Card content-->
    <mdb-card-body class="px-lg-5 pt-0" style="overflow: scroll">

      <!-- Form -->
      <form class="text-center" style="color: #757575;">

        <div class="form-row">
          <div class="col">
            <!-- First name -->
            <div class="md-form">
              <input type="text" id="materialRegisterFormFirstName" name="first" [(ngModel)]="user.first_name"
                     class="form-control" [mdbValidate]="false" mdbInputDirective>
              <label for="materialRegisterFormFirstName">First name</label>
            </div>
          </div>
          <div class="col">
            <!-- Last name -->
            <div class="md-form">
              <input type="text" id="materialRegisterFormLastName" name="last" [(ngModel)]="user.last_name"
                     class="form-control" [mdbValidate]="false" mdbInputDirective>
              <label for="materialRegisterFormLastName">Last name</label>
            </div>
          </div>
        </div>

        <!-- E-mail -->
        <div class="md-form mt-0">
          <input type="email" id="materialRegisterFormEmail" name="email" [(ngModel)]="user.email" class="form-control"
                 [mdbValidate]="false" mdbInputDirective>
          <label for="materialRegisterFormEmail">E-mail</label>
        </div>
        <div class="md-form mt-0">
          <input type="text" id="materialRegisterFormUserId" name="userId" [(ngModel)]="user.username"
                 class="form-control" [mdbValidate]="false" mdbInputDirective>
          <label for="materialRegisterFormUserId">Username</label>
        </div>

        <!-- Password -->
        <div class="md-form">
          <input type="password" id="materialRegisterFormPassword" name="password" [(ngModel)]="user.password"
                 [mdbValidate]="false" class="form-control"
                 aria-describedby="materialRegisterFormPasswordHelpBlock"
                 mdbInputDirective>
          <label for="materialRegisterFormPassword">Password</label>
          <small id="materialRegisterFormPasswordHelpBlock" class="form-text  mb-4">
            At least 8 characters
          </small>

        </div>
        <div class="md-form">
          <input type="password" class="form-control" aria-describedby="materialRegisterFormPasswordHelpBlock"
                 mdbInputDirective [mdbValidate]="false" name="confirm" [(ngModel)]="confirmPassword"
                 (input)="validPassword()" [disabled]="user.password.length<8">
          <label for="materialRegisterFormPassword">Confirm Password</label>
        </div>
        <div class="form-text mb-4" style="color: #fc0d1b;" *ngIf="user.password.length>8">
          <small *ngIf="!validPassword()">
            Password does not match
          </small>
        </div>
        <div class="form-text mb-4" style="color: #03fc00;">
          <small *ngIf="validPassword()">
            Password Matched
          </small>
        </div>


        <div>
          <input type="date" id="materialRegisterFormDate" name="dob" [(ngModel)]="user.dob" class="form-control"
                 [mdbValidate]="false" mdbInputDirective>
          <label for="materialRegisterFormDate">Date of Birth (Optional)</label>

        </div>

        <!-- Sign up button -->
        <button mdbBtn color="info" rounded="true" block="true" class="my-4 waves-effect z-depth-0"
                mdbWavesEffect [disabled]="!validInput()"
                type="submit" (click)="register()">Sign in
        </button>
      </form>
      <!-- Form -->

    </mdb-card-body>

  </mdb-card>
  <!-- Material form register -->

</div>
<div mdbModal #successModal="mdbModal" class="modal fade right" tabindex="-1" role="dialog" aria-labelledby="mySuccessModal"
     aria-hidden="true">
   <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close pull-right" aria-label="Close" (click)="successModal.hide()">
            <span aria-hidden="true">Ã—</span>
          </button>
        </div>
        <div class="modal-body">
         <h4>{{message}}</h4>
        </div>
        <div class="modal-footer">
          <button type="button" mdbBtn color="danger" class="waves-light" aria-label="Close" (click)="successModal.hide()" mdbWavesEffect>Close</button>
        </div>
      </div>
    </div>
  </div>
