<!--
  Generated template for the HomePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-searchbar *ngIf="searchToggled" (ionChange)="searchOption($event)"
                   debounce="500"></ion-searchbar>
    <button ion-button float-left menuToggle>
      <ion-icon name="ios-menu"></ion-icon>
    </button>
    <ion-title *ngIf="!searchToggled">Home</ion-title>
    <ion-buttons end>
      <button ion-button (click)="toggleClosed()">
        <ion-icon name="search" *ngIf="!searchToggled"></ion-icon>
        <ion-icon name="close" *ngIf="searchToggled"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content no-padding>

    <ion-grid>
      <ion-row>
        <ion-col>
          Name
        </ion-col>
        <ion-col>
          Price
        </ion-col>
      </ion-row>
      <ng-container *ngIf="searchList.length==0">
        <ion-row *ngFor="let stock of stocks" class="stockRow" navPush="DetailsPage" [navParams]="{ticker: stock.ticker}">
          <ion-col>
            <h5>{{stock.ticker}}</h5>
            <ion-label>{{stock.name}}</ion-label>
          </ion-col>
          <ion-col class="priceCol" no-padding>
            <p [colorful]="stock.p_change">{{(stock.p_change*100).toLocaleString(undefined, {maximumFractionDigits: 2})}}% </p>
          </ion-col>
        </ion-row>
      </ng-container>

      <ng-container *ngIf="searchList.length>0">
        <ion-row *ngFor="let stock of searchList" class="stockRow">
          <ion-col>
            <h5>{{stock.ticker}}</h5>
            <ion-label margin="0 !important">{{stock.name}}</ion-label>
          </ion-col>
          <ion-col class="priceCol" no-padding>
            <p [colorful]="stock.p_change">{{(stock.p_change*100).toLocaleString(undefined, {maximumFractionDigits: 2})}}% </p>
          </ion-col>
        </ion-row>
      </ng-container>
    </ion-grid>

</ion-content>
